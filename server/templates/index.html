{% extends "base.html" %}
{% block content %}
<section class="stats-wrapper">
  <div id="stats" hx-ext="ws" hx-ws="connect:/ws/stats" hx-swap="innerHTML">
    {% include "_stats.html" with context %}
  </div>
</section>
<section class="dashboard">
  <div class="panel panel--wide" id="positions-panel">
    <h2>Positions</h2>
    <div id="positions" class="scroll" hx-ext="ws" hx-ws="connect:/ws/positions">
      {% include "_positions.html" %}
    </div>
  </div>
  <div class="panel panel--wide" id="orders-panel">
    <h2>Open Orders</h2>
    <div id="orders" class="scroll" hx-ext="ws" hx-ws="connect:/ws/orders">
      {% include "_orders.html" %}
    </div>
  </div>
</section>

<section class="card order-form">
  <h2>Place Orders</h2>
  <form method="post" action="/orders/place" class="form-row" hx-post="/orders/place" hx-target="#orders" hx-swap="innerHTML">
    <label>Symbol
      <span class="locked-symbol">BTCUSD</span>
      <input type="hidden" name="product_symbol" value="BTCUSD">
    </label>
    <label>Side
      <select name="side">
        <option value="buy">Buy</option>
        <option value="sell">Sell</option>
      </select>
    </label>
    <label>Size <input type="number" name="size" value="1" min="1" required></label>
    <label>Limit Price <input type="number" name="limit_price" step="0.5" placeholder="optional"></label>
    <button type="submit">Place</button>
  </form>
</section>

{% endblock %}
